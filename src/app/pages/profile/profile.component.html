
<div class="dropdown dropstart">
  <button  data-bs-toggle="dropdown"  class="rounded-pill btn btn-basic dropdown-toggle logo-avatar">
    <img src="https://thumbs.dreamstime.com/b/vector-icon-user-avatar-web-site-mobile-app-man-face-flat-style-social-network-profile-45836554.jpg" style="width:50px;"  class="rounded-pill"  alt="AvatarLogo" />
  </button>

  <ul class="dropdown-menu" id="drop-button">
    <li><app-logout-button></app-logout-button></li>
    <li><hr class="dropdown-divider"></li>
    <li>
      <button class="btn btn=basic" data-bs-toggle="modal" data-bs-target="#myModal">
        Profile
      </button>
    </li>
    <li><hr class="dropdown-divider"></li>
    <li>
      <button class="btn btn=basic" data-bs-toggle="modal" data-bs-target="#email-Modal">
        Send email
      </button>
    </li>
  </ul>
</div>



<!--Show Profile-->
<div class="modal" id="myModal" *ngIf="auth.user$ | async as user">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title"><img src="https://thumbs.dreamstime.com/b/vector-icon-user-avatar-web-site-mobile-app-man-face-flat-style-social-network-profile-45836554.jpg" alt="" style="width:80px;"  class="rounded-pill"> Your Profile</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class="card" style="width:450px">

          <div class="card-body ">
            <table class="table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{user.name}}</td>
                  <td>{{user.email}}</td>
                </tr>
              </tbody>
              <thead>
                <tr>
                  <th>Nickname</th>
                  <th>Verified</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{user.nickname}}</td>
                  <td>{{user.email_verified}}</td>
                </tr>
              </tbody>
            </table>

          </div>
        </div>
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
<!--End show profile-->
<!--Send email-->
<!-- The Modal -->
<div class="modal" id="email-Modal">
  <div class="modal-dialog modal-fullscreen-lg-down">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title-email"><img class="modal-email" src="https://rtdigitalmediamarketing.com/wp-content/uploads/2017/03/emil-banner.jpg" style="width: 29rem;" alt=""></h4>

      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <div class=" container">
          <form action="https://formspree.io/f/xpzboabr" method="post">
            <div class="mb-3 mt-3">
              <label for="email" class="form-label">Email:</label>
              <input type="email" class="form-control" id="email" placeholder="Enter email" name="email">
            </div>
            <label for="comment">Text:</label>
            <textarea class="form-control" rows="5" id="comment" name="text"></textarea>
            <br>
            <button id="my-form-button" type="submit" class="btn btn-primary">Submit</button>
            <p id="my-form-status"></p>
          </form>
          <script>
            var form = document.getElementById("my-form");

            async function handleSubmit(event) {
              event.preventDefault();
              var status = document.getElementById("my-form-status");
              var data = new FormData(event.target);
              fetch(event.target.action, {
                method: form.method,
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
              }).then(response => {
                if (response.ok) {
                  status.innerHTML = "Thanks for your submission!";
                  form.reset()
                } else {
                  response.json().then(data => {
                    if (Object.hasOwn(data, 'errors')) {
                      status.innerHTML = data["errors"].map(error => error["message"]).join(", ")
                    } else {
                      status.innerHTML = "Oops! There was a problem submitting your form"
                    }
                  })
                }
              }).catch(error => {
                status.innerHTML = "Oops! There was a problem submitting your form"
              });
            }
            form.addEventListener("submit", handleSubmit)
        </script>



        </div>


      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

<!--end sen email-->


